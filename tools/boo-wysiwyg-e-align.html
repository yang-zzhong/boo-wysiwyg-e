<link rel="import" href="../../polymer/polymer-element.html">
<link rel="import" href="../../neon-animation/web-animations.html">
<link rel="import" href="../../paper-menu-button/paper-menu-button.html">
<link rel="import" href="../../paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../paper-listbox/paper-listbox.html">
<link rel="import" href="../../paper-item/paper-item.html">
<link rel="import" href="../boo-wysiwyg-e.html">

<dom-module id="boo-wysiwyg-e-align">
  <template>
    <style>
      paper-item:hover {
        cursor: pointer;
      }
    </style>
    <paper-menu-button>

      <paper-icon-button 
        title="对齐方式"
        icon="boo-wysiwyg-e:format-align-center" 
        slot="dropdown-trigger"></paper-icon-button>

      <paper-listbox slot="dropdown-content">
        <paper-item data-id="justifyCenter" on-click="select">
          <iron-icon icon="boo-wysiwyg-e:format-align-center"></iron-icon>
          <span>居中对齐</span>
        </paper-item>
        <paper-item data-id="justifyFull" on-click="select">
          <iron-icon icon="boo-wysiwyg-e:format-align-justify"></iron-icon>
          <span>两端对齐</span>
        </paper-item>
        <paper-item data-id="justifyLeft" on-click="select">
          <iron-icon icon="boo-wysiwyg-e:format-align-left"></iron-icon>
          <span>左对齐</span>
        </paper-item>
        <paper-item data-id="justifyRight" on-click="select">
          <iron-icon icon="boo-wysiwyg-e:format-align-right"></iron-icon>
          <span>右对齐</span>
        </paper-item>
      </paper-listbox>

    </paper-menu-button>
  </template>
  <script>
    class BooWysiwygEAlign extends BooWysiwygETool {
      static get is() { return "boo-wysiwyg-e-align"; }
      select(e) {
        this.editor.focus();
        let node = e.target;
        let value = '';
        do {
          if (node.tagName == 'PAPER-ITEM') {
            value = node.getAttribute("data-id");
            break;
          }
        } while(node = node.parentNode);
        document.execCommand(value, false);
      }
    }
    window.customElements.define(BooWysiwygEAlign.is, BooWysiwygEAlign);
  </script>
</dom-module>
